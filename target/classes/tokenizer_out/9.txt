архитектур  больш  проект  facebook  на  том  уровн  на  котор  работа  facebook  традицион  подход  к  организац  работ  вебсайт  не  работа  вообщ  ил  как  минимум  не  обеспечива  должн  производительн  огромн  посещаем  проект  брос  выз  инженер  facebook  необходим  поддержива  работоспособн  сайт  при  почт  полумиллиард  активн  пользовател  эт  стат  описыва  программн  обеспечен  и  техник  благодар  котор  эт  стал  возможн  задач  сайт  facebook  имеет  окол  570  миллиард  просмотр  в  месяц  по  информац  от  google  ad  planner  на  facebook  загруж  больш  фотограф  чем  на  все  друг  сервис  для  обм  изображен  вмест  взят  включ  сайт  врод  flickr  кажд  месяц  на  сервер  facebook  загружа  бол  трех  миллиард  фотограф  сервер  facebook  отда  на  просмотр  окол  12  миллион  фотограф  в  секунд  без  учет  фотограф  отдава  сет  доставк  контент  facebook  кажд  месяц  пользовател  обменива  бол  чем  25  миллиард  единиц  информац  обновлен  статус  комментар  и  тд  на  ма  месяц  2010  г  проект  facebook  имел  бол  30000  сервер  онлайн  программн  обеспечен  facebook  в  некотор  род  facebook  все  ещ  работа  на  lamp  стек  но  размер  проект  потребова  введен  в  стро  мног  друг  элемент  и  сервис  а  такж  изменен  работ  существ  например  facebook  по-прежн  использ  php  но  перед  исполнен  скрипт  компилир  в  родн  код  процессор  ускор  так  образ  работ  сервер  facebook  работа  на  linux  но  код  linux  был  оптимизирова  в  основн  в  ег  сетев  част  facebook  использ  mysql  но  в  основн  как  хранилищ  ключ-значен  все  соединен  дан  и  бизнес-логик  вынес  на  уровен  скрипт  поскольк  так  горазд  прощ  выполня  оптимизац  по  друг  сторон  уровн  memcached  в  проект  ест  систем  написа  с  нул  например  haystack    высокомасштабируем  хранилищ  объект  котор  использ  для  хранен  фотограф  scribe    пример  друг  систем  котор  обеспечива  веден  протокол  в  масштаб  facebook  итак  об  всем  по  порядк  memcached  memcached    один  из  сам  широкоизвестн  проект  в  интернет  ег  распределен  систем  кеширован  информац  использ  как  кешир  сло  межд  веб-сервер  и  mysql  поскольк  доступ  к  баз  дан  относительн  медлен  прошл  год  и  facebook  произвел  огромн  количеств  модификац  код  memcached  и  сопутств  по  например  оптимизац  сетев  подсистем  в  facebook  работа  тысяч  memcached  сервер  с  десятк  терабайт  кеширова  дан  в  люб  момент  времен  наверн  эт  сам  больш  в  мир  масс  memcached  сервер  hiphop  для  php  php  поскольк  он  явля  скриптов  язык  достаточн  медлител  есл  сравнива  ег  с  родн  код  процессор  исполня  на  сервер  hiphop  конвертир  скрипт  на  php  в  исходн  код  на  c++  котор  зат  компилир  для  обеспечен  хорош  производительн  эт  позволя  facebook  получа  больш  отдач  от  меньш  количеств  сервер  поскольк  php  в  facebook  использ  практическ  повсеместн  небольш  групп  инженер  в  начал  их  был  тольк  тро  разработа  hiphop  за  18  месяц  и  тепер  он  работа  на  сервер  проект  haystack  haystack    эт  высокопроизводительн  систем  хранен    получен  фотограф  строг  говор  haystack    хранилищ  объект  поэт  он  может  хран  люб  дан  а  не  тольк  фотограф  на  дол  эт  систем  выпада  огромн  количеств  работ  на  facebook  загруж  бол  20  миллиард  фотограф  и  кажд  сохраня  в  четырех  различн  разрешен  что  в  итог  дает  нам  бол  80  миллиард  единиц  фотограф  haystack  долж  не  прост  умет  хран  фот  но  и  отдава  их  очен  быстр  как  мы  упомина  ран  facebook  отда  бол  12  миллион  фотограф  в  секунд  эт  количеств  не  включа  в  себ  фотограф  котор  отда  систем  доставк  контент  facebook  и  постоя  растет  bigpipe  bigpipe    систем  динамическ  доставк  web-страниц  разработа  в  facebook  он  использ  для  доставк  кажд  вебстраниц  секц  котор  называ  pagelets  для  оптимизац  производительн  например  окн  чат  лент  новост  и  друг  част  страниц  запрашива  отдельн  их  можн  получа  параллельн  что  увеличива  производительн  и  позволя  пользовател  использова  вебсайт  даж  в  том  случа  есл  какая-т  ег  част  отключ  ил  неисправн  cassandra  cassandra    распределен  отказоустойчив  хранилищ  дан  эт  одн  из  сист  котор  всегд  упомина  говор  о  nosql  cassandra  стал  проект  с  открыт  исходн  код  и  даж  стал  дочерн  проект  apache  foundation  на  facebook  мы  использу  е  для  поиск  по  папк  входя  в  принцип  е  использ  мног  проект  например  digg  планир  е  использован  в  проект  pingdom  scribe  scribe    удобн  систем  протоколирован  котор  использ  сраз  для  нескольк  вещ  одновремен  он  был  разработа  для  обеспечен  веден  протокол  в  масштаб  всег  facebook  и  поддержива  добавлен  нов  категор  событ  как  тольк  он  появля  на  facebook  их  сотн  hadoop  и  hive  hadoop    реализац  алгоритм  map-reduce  с  открыт  исходн  код  позволя  производ  вычислен  на  огромн  объем  дан  в  facebook  мы  использу  ег  для  анализ  дан  как  вы  понима  в  facebook  их  достаточн  hive  был  разработа  в  facebook  и  позволя  использова  sql  запрос  для  получен  информац  от  hadoop  что  облегча  работ  непрограммист  и  hadoop  и  hive  имеют  открыт  исходн  код  и  развива  под  эгид  apache  foundation  их  использ  больш  количеств  друг  проект  например  yahoo  и  twitter  thrift  facebook  использ  различн  язык  программирован  в  различн  компонент  систем  php  использ  как  фронт-энд  erlang  для  чат  яв  и  c++  тож  не  оста  без  дел  thrift    кросс-языков  фреймворк  котор  связыва  все  част  систем  в  един  цел  позвол  им  обща  друг  с  друг  thrift  разрабатыва  как  проект  с  открыт  исходн  код  и  в  нег  уж  добавл  поддержк  некотор  друг  язык  программирован  varnish  varnish    http  акселератор  котор  может  служ  в  качеств  балансировщик  нагрузк  и  кеш  содержим  котор  зат  может  доставля  с  больш  скорост  facebook  использ  varnish  для  доставк  фотограф  и  картинок  профил  выдержив  нагрузк  в  миллиард  запрос  в  ден  как  и  все  что  использ  facebook  varnish    программн  обеспечен  с  открыт  исходн  код  кое-чт  друг  мы  рассказа  вам  о  некотор  программн  комплекс  котор  позволя  facebook  держа  нагрузк  но  управлен  так  больш  систем    сложн  задач  поэт  мы  расскаж  вам  ещ  ко  о  чем  что  позволя  проект  работа  стабильн  ступенчат  релиз  и  неявн  активац  нов  функц  в  facebook  использ  систем  называ  gatekeeper  котор  позволя  обслужива  различн  пользовател  с  помощ  различн  верс  исходн  код  систем  эт  позволя  провод  релиз  пошагов  активирова  некотор  функц  тольк  для  работник  facebook  и  так  дал  gatekeeper  такж  позволя  facebook  выполня  неявн  активац  нов  функц  для  выполнен  например  нагрузочн  тестирован  и  выявлен  медлен  работа  компонент  систем  неявн  активац  включа  некотор  функц  ил  возможн  но  не  показыва  е  в  интерфейс  пользовател  обычн  неявн  активац  выполня  за  две  недел  до  тог  как  нов  возможн  предоставля  пользовател  тест  производительн  систем  facebook  производ  тщательн  мониторинг  производительн  систем  и  что  интересн  производ  мониторинг  производительн  исполнен  кажд  php  функц  систем  эт  обеспечива  использован  xhprof  частичн  отключен  функц  есл  проект  начина  работа  медлен  мы  мож  отключ  некотор  возможн  из  достаточн  больш  количеств  для  тог  чтоб  подня  производительн  ключев  компонент  систем  о  чем  мы  ещ  не  сказа  мы  не  упомина  об  аппаратн  част  facebook  в  дан  стат  но  конечн  эт  достаточн  важд  для  масштабируем  проект  например  facebook  использ  сист  доставк  контент  для  доставк  ег  статическ  элемент  конечн  ест  ещ  больш  датацентр  в  орегон  для  увеличен  масштабируем  пут  ввод  ещ  больш  количеств  сервер  помим  всег  проч  у  нас  ещ  мног  всяк  разн  программн  обеспечен  работа  но  нам  кажет  что  нам  уда  рассказа  вам  о  некотор  интересн  решен  котор  задействова  в  проект  facebook  люб  проект  с  открыт  исходн  код  эт  стат  не  был  бы  закончен  есл  бы  мы  не  сказа  вам  как  facebook  люб  проект  с  открыт  исходн  код  ил  прост  сказа  бы  что  “мы  люб  проект  с  открыт  исходн  кодом”  facebook  не  тольк  участв  в  разработк  так  проект  как  linux  memcached  mysql  hadoop  и  друг  но  и  выпуска  сво  внутрен  разработк  как  по  с  открыт  исходн  код  например  hiphop  cassandra  thrift  и  scribe  facebook  такж  откр  проект  tornado  высокопроизводительн  фреймворк  разработа  команд  созда  friendfeed  этот  проект  был  купл  facebook  в  август  2009  список  проект  в  котор  участв  facebook  можн  найт  на  эт  страниц  ещ  больш  пробл  facebook  растет  с  огромн  скорост  пользовательск  баз  растет  почт  экспотенциальн  и  приближа  к  полумиллиард  активн  пользовател  и  кто  знает  что  будет  в  конц  год  прирост  составля  почт  100  миллион  пользовател  кажд  полгод  в  facebook  даж  работа  специальн  команд  “роста”  котор  постоя  стара  расшир  аудитор  проект  постоя  рост  означа  что  facebook  будет  сталкива  с  различн  проблем  в  област  производительн  с  рост  числ  поиск  просмотр  загружа  картинок  и  так  дал  но  эт  част  ежедневн  работ  сервис  инженер  facebook  будут  иска  нов  пут  увеличен  масштабируем  проект  и  реч  идет  не  тольк  о  добавлен  все  нов  и  нов  сервер  например  систем  хранен  фотограф  facebook  переписыва  нескольк  раз  с  рост  сайт  посмотр  с  чем  придет  столкнут  инженер  facebook  в  след  раз  можн  спор  что  с  чем-т  очен  интересн  в  конц  конц  он  работа  с  проект  величин  о  котор  можн  тольк  мечта  с  сайт  котор  имеет  больш  пользовател  чем  жител  в  большинств  стран  когд  вы  имеет  дел  с  там  проект  лучш  бы  вам  мысл  креативн  источник  презентац  инженер  facebook  и  блог  инженер  facebook  