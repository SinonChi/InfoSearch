вот  уж  бол  10  лет  существ  объектно-реляцион  субд  постоя  усложня  структур  храним  информац  стандарт  sql  учитыва  вопрос  сопряжен  с  объектно-ориентирова  язык  программирован  но  тем  не  мен  функциона  обеспечива  поддержк  объектн  парадигм  крайн  редк  использ  в  бд  отчаст  эт  объясня  консерватизм  разработчик  отсутств  развит  методолог  проектирован  объектно-реляцион  бд  и  широк  распространен  orm-средств  тем  не  мен  существ  ряд  задач  где  использован  объектн  возможн  сам  бд  может  повыс  производительн  и  гибкост  систем  начн  с  тог  что  хран  дан  в  объект  вмест  таблиц  в  сам  бд  нескольк  дискомфортн    большинств  разработчик  уж  привыкл  к  использован  orm-средств  один  из  подход  реша  эт  пробл  заключа  в  использован  объект  синтезируем  на  основ  существ  реляцион  дан  без  вмешательств  в  структур  таблиц  достич  эт  можн  с  помощ  объектн  представлен  object  views  котор  позволя  синтезирова  объект  на  основ  выборк  из  таблиц  в  атрибут  по  сут  эт  тот  же  orm  тольк  на  сторон  сервер  так  же  как  реляцион  представлен  явля  виртуальн  таблиц  объектн  представлен  явля  виртуальн  таблиц  объект  кром  очевидн  плюс  использован  объектн  подход  этот  подход  позволя  переопределя  объект  прост  изменен  представлен  фильтрова  доступн  для  приложен  дан  разграничива  доступ  пользовател  на  уровн  иерарх  объект  а  такж  в  определен  ситуац  повыша  производительн  важн  отмет  что  объектн  представлен  не  накладыва  ограничен  на  применя  способ  хранен  дан  возможн  использован  опц  субд  oracle  так  как  partitioning  label  security  advanced  compression  и  тд  возможн  использован  таблиц  подключен  через  дблинк  ниж  будут  продемонстрирова  основн  возможн  объектн  представлен  реализова  в  субд  oracle  в  качеств  схем  для  пример  предлага  прост  набор  таблиц  в  котор  хран  информац  о  магазин  дорог  котор  их  связыва  и  о  поставщик  товар  таблиц  содержат  дан  описыва  след  модел  итак  создан  объектн  представлен  состо  из  трех  основн  этап  определен  объектн  тип  с  необходим  атрибут  написан  запрос  выбира  эт  атрибут  из  таблиц  в  том  же  порядк  как  он  определ  в  объект  задан  уникальн  значен  получа  из  выборк  атрибут  для  использован  в  качеств  ссылк  на  объект  част  достаточн  использова  первичн  ключ  снача  определ  объект  описыва  магазин  и  связ  межд  ним  create  force  type  road_t  as  object    shop  ref  shop_t  distance  number8    create  type  road_list_t  as  table  of  road_t    create  type  shop_t  as  object    id  number6  name  varchar220  links  road_list_t  not  final    указан  директив  force  потребова  для  реализац  кольцев  ссылок  магазин  ссыла  на  дорог  котор  в  сво  очеред  ссыла  на  друг  магазин  тепер  определ  представлен  create  force  view  shops_v  of  shop_t  with  object  identifierid  as  select  sid  sname  сastmultiset    select  make_refshops_v      decoderdest_id  -  sid  0  rsrc_id  rdest_id  rdistance    from  roads  r  where  sid  in  rdest_id  rsrc_id      as  road_list_t  from  shops  s    конструкц  with  object  identifier  зада  уникальн  идентификатор  предоставля  объект  в  дан  случа  использ  первичн  ключ  из  таблиц  shops  так  как  информац  о  дорог  хран  в  вид  пар  ссылок  на  магазин  для  определен  соседн  магазин  использ  конструкц  decode  сам  ссылк  формир  функц  make_ref  возвраща  ссылк  на  объект  по  переда  ключ  и  объектн  таблиц  либ  представлен  тепер  можн  получ  список  магазин  соседств  со  зада  использу  навигацион  обход  select  derefshopid  from  tableselect  links  from  shops_v  where  id    5  derefshopid  --------------  1  2  6  оператор  deref  использ  для  разадресац  ссылк  получен  из  атрибут    вложен  таблиц  доступ  к  котор  осуществля  через  функц  table  в  общ  случа  использован  ссылок  позволя  реализовыва  как  связ  один-ко-мног  как  был  показа  выш  так  и  связ  многие-ко-мног  например  create  force  type  vendor_shop_t  under  shop_t  vendors  vendor_list_t    create  force  type  vendor_list_t  as  table  of  ref  vendor_t    create  force  type  vendor_t  as  object    id  number3  name  varchar210  shops  vendor_shop_list_t    create  type  vendor_shop_list_t  as  table  of  ref  vendor_shop_t    объект  описыва  фирмен  магазин  поставщик  vendor_shop_t  был  определ  через  наследован  от  shop_t  представлен  как  и  сам  объект  могут  быт  выстро  в  иерарх  в  остальн  определен  представлен  будут  аналогичн  предыдущ  create  force  view  vendor_shops_v  of  vendor_shop_t  under  shops_v  as  select  sid  sname  castmultiset    select  make_refshops_v     decoderdest_id  -  sid  0  rsrc_id  rdest_id  rdistance    from  roads  r  where  sid  in  rdest_id  rsrc_id     as  road_list_t   castmultiset    select  make_refvendors_v  vsvendor_id    from  vendor_shops  vs  where  vsshop_id    sid     as  vendor_list_t    from  shops  s    create  force  view  vendors_v  of  vendor_t  with  object  identifierid  as  select  vid  vname  castmultiset    select  make_refvendor_shops_v  vsshop_id    from  vendor_shops  vs  where  vsvendor_id    vid     as  vendor_shop_list_t    from  vendors  v    запрос  к  иерарх  позволя  выбира  объект  не  тольк  из  зада  представлен  но  и  ег  потомк  регулиру  так  образ  уровен  детализац  выборк  тип  объект  осуществля  с  помощ  конструкц  only  и  is  of  type  select  count0  from  shops_v  where  id    3  count0  --------  4  select  count0  from  onlyshops_v  where  id    3  count0  --------  2  select  count0  from  vendor_shops_v  s  where  id    3  and  values  is  of  type  only  shop_t  count0  --------  0  ограничен  на  возможн  применен  dml  над  объектн  представлен  аналогичн  тем  что  действ  для  реляцион  представлен  тем  не  мен  возможн  использован  триггер  instead  of  для  реализац  нестандартн  логик  dml  след  фрагмент  код  реализ  вставк  объект  vendors_v  добавл  информац  в  нижележа  таблиц  create  trigger  vendors_v_insert  instead  of  insert  on  vendors_v  for  each  row  declare   shop_id  number   cursor  c  is  select  derefcolumn_valueid  from  tablenewshops  begin   open  c   insert  into  vendors  values  newid  newname   loop    fetch  c  into  shop_id    exit  when  cnotfound    insert  into  vendor_shops  valuesnewid  shop_id   end  loop   close  c  end    не  смотр  на  то  то  что  дан  представлен  изначальн  берут  из  реляцион  таблиц  и  существ  ограничен  в  план  построен  индекс  и  проч  част  объектн  подход  позволя  получ  выигрыш  в  производительн  важн  понима  что  дан  эффект  достига  на  больш  объем  дан  и  запрос  треб  полн  просмотр  при  реляцион  подход  и  работ  с  ссылк  при  объектн  сравнен  производ  при  при  след  размер  таблиц  shops    1000  строк  vendors    60  vendor_shops    20  тысяч  roads    300  тысяч  рассмотр  пример  select  v1id  v2id  from  vendor_shops_v  v1  vendor_shops_v  v2  where  cardinalityv1vendors  multiset  intersect  v2vendors    0  and  v1id    2  в  сравнен  с  реляцион  вариант  select  v1id  v2id  from  shops  v1  shops  v2  where  exists      select  vendor_id  from  vendor_shops  where  shop_id    v1id    intersect    select  vendor_id  from  vendor_shops  where  shop_id    v2id    and  v1id    2  дает  двукратн  прирост  производительн  след  пар  запрос  получа  список  соседн  магазин  имеющ  общ  поставщик  с  дан  наоборот  явля  пример  тог  как  дела  не  над  select  v1id  v2id  from  vendor_shops_v  v1  vendor_shops_v  v2  where  v2id  in  select  derefshopid  from  tablev1links  and   cardinalityv1vendors  multiset  intersect  v2vendors    0  and   v1id    2  select  v1id  v2id  from  shops  v1  shops  v2  where   exists  select  1  from  roads  where  src_idv1id  and  dest_idv2id  and   exists      select  vendor_id  from  vendor_shops  where  shop_id    v1id    intersect    select  vendor_id  from  vendor_shops  where  shop_id    v2id     and    v1id    2  как  результат    пятнадцатикратн  паден  производительн  причин  как  не  сложн  замет  скрыва  в  сложн  определен  атрибут  links  для  объект  shop_t  котор  вызыва  генерац  удвоен  количеств  объект  road_t  и  пропорциональн  рост  чтен  из  таблиц  roads  обрат  вниман  в  обо  пример  объектн  запрос  горазд  прощ  чита  оговор  что  стат  предполага  как  вводн  поэт  пример  был  осозна  упрощ  есл  публикац  найдет  отклик  я  освещ  дан  тем  подробн  загрузк  и  сохранен  объект  через  jdbc  буферизац  использован  метод  в  класс  аналог  reflection  api  и  проч  литератур  1  eric  belden  janis  greenberg  oracle  database  object-relational  developer's  guide  11g  release  2  112    oracle  march  2010  pdf  2  jim  melton  advanced  sql1999  understanding  object-relational  and  other  advanced  features    morgan  kaufmann  publishers  2003  3  фернстайн  с  подставляем  и  преобразован  объектн  тип  в  иерарх    oracle  magazinerussian  edition  июн  2002  4  wp  zhang  norbert  ritter  the  real  benefits  of  object-relational  db-technology  for  object-oriented  software  development  in  b  read  editor  proc  18th  british  national  conference  on  databases  bncod  2001  advances  in  databases  pages  89-104  springer-verlag  july  2001  pdf  5  сд  кузнец  объектно-реляцион  баз  дан  прошедш  этап  ил  недооценен  возможн  2007  html  all  source  code  was  highlighted  with  source  code  highlighter  